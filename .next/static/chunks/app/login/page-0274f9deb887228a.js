(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{5404:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>x});var t=s(5155),l=s(2115),r=s(2619),n=s.n(r),i=s(63),c=s(7801),d=s(7003),m=s(6170),o=s(235),h=s(3209);function x(){let e=(0,i.useRouter)(),[a,s]=l.useState(!1),[r,x]=l.useState(null);return(0,t.jsx)("div",{className:"bg-slate-50 py-16 dark:bg-slate-950",children:(0,t.jsxs)("div",{className:"container mx-auto flex max-w-md flex-col gap-8 px-4",children:[(0,t.jsxs)("div",{className:"space-y-3 text-center",children:[(0,t.jsx)("div",{className:"mx-auto flex h-11 w-11 items-center justify-center rounded-2xl bg-emerald-500/10 text-emerald-500",children:(0,t.jsx)(c.A,{className:"h-5 w-5"})}),(0,t.jsx)("h1",{className:"text-2xl font-semibold tracking-tight text-slate-900 dark:text-white",children:"Log in to SmartSafe"}),(0,t.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Access the SmartSafe dashboard from this website. This page focuses on UI only and does not connect to a real authentication backend."})]}),(0,t.jsxs)(h.Zp,{children:[(0,t.jsx)(h.aR,{className:"pb-3",children:(0,t.jsx)(h.ZB,{className:"text-sm",children:"Driver account"})}),(0,t.jsxs)(h.Wu,{children:[(0,t.jsxs)("form",{onSubmit:function(a){var t;a.preventDefault(),s(!0),x(null);let l=new FormData(a.currentTarget);fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:String(l.get("email")||"").trim(),name:null!=(t=l.get("name"))?t:null})}).then(async e=>{if(!e.ok)throw Error((await e.json().catch(()=>({}))).error||"Unable to log in");return e.json()}).then(a=>{try{window.localStorage.setItem("smartsafe_logged_in","1"),window.localStorage.setItem("smartsafe_user_email",a.email),a.name&&window.localStorage.setItem("smartsafe_user_name",a.name)}catch(e){}e.push("/dashboard")}).catch(e=>{x(e instanceof Error?e.message:"Login failed")}).finally(()=>{s(!1)})},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"name",children:"Name (optional)"}),(0,t.jsx)(m.p,{id:"name",name:"name",placeholder:"Your name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"email",children:"Email"}),(0,t.jsx)(m.p,{id:"email",name:"email",type:"email",autoComplete:"email",placeholder:"driver@example.com",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"password",children:"Password"}),(0,t.jsx)(m.p,{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0})]}),(0,t.jsx)(d.$,{type:"submit",className:"w-full",disabled:a,children:a?"Signing inâ€¦":"Sign in"}),r&&(0,t.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400","aria-live":"polite",children:r})]}),(0,t.jsx)("div",{className:"mt-6 text-center text-xs text-slate-500 dark:text-slate-400",children:(0,t.jsxs)("p",{children:["New to SmartSafe?"," ",(0,t.jsx)(n(),{href:"/welcome",className:"font-medium text-emerald-600 hover:underline dark:text-emerald-400",children:"Read the website overview"}),"."]})})]})]})]})})}},6475:(e,a,s)=>{Promise.resolve().then(s.bind(s,5404))}},e=>{e.O(0,[121,76,358],()=>e(e.s=6475)),_N_E=e.O()}]);